[{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"utilisation-de-ce-package","dir":"Articles","previous_headings":"","what":"utilisation de ce package","title":"Premiers pas","text":"Les commandes les plus importantes de ce package sont datasets(), datafiles(), dido_search() et get_data(). dido_search() permet de chercher dans les données qui lui sont passées get_data() permet de télécharcher les données des datafiles passés en arguments. La méthode : regarder les datasets : datasets() sélectionner les datasets : dido_search() et dplyr::filter() récupérer les informations des datafiles associés à ces datasets: `datafiles() sélectionner les datafiles intéressants: dido_search() et dplyr::filter() verifier que les datafiles sont compatibles: columns() télécharger les données: get_data() les convertir: convert()","code":""},{"path":[]},{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"regarder-les-datasets","dir":"Articles","previous_headings":"récupérer les données de consommation de gaz à la maille EPCI","what":"regarder les datasets","title":"Premiers pas","text":"Utilisez view() pour regarder un peu les colonnes.","code":"result <- datasets() knitr::kable(head(result, n = 2))"},{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"sélectionner-les-datasets","dir":"Articles","previous_headings":"récupérer les données de consommation de gaz à la maille EPCI","what":"sélectionner les datasets","title":"Premiers pas","text":"Pour sélectionner les datasets, vous pouvez utiliser les commandes dplyr comme dplyr::select() ou la commande dido_search() qui cherche le motif dans tous les champs chr du dataframe. 5 datasets correspondents à la recherche. Cherchons les datasets contenant ‘epci’ : Nous n’avons plus qu’un seul datasets.","code":"result <- datasets() %>%    dido_search('gaz') %>%    select(title) knitr::kable(head(result)) result <- datasets() %>%    dido_search('gaz') %>%    dido_search('epci') %>%   select(title) knitr::kable(result)"},{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"étudier-les-datafiles","dir":"Articles","previous_headings":"récupérer les données de consommation de gaz à la maille EPCI","what":"étudier les datafiles :","title":"Premiers pas","text":"Nous avons 6 datafiles dont 3 sur le gaz. Nous avons réussi à filter 3 datafiles avec des données gaz à la maille EPCI, chacun traite d’une année de 2018 à 2020.","code":"result <- datasets() %>%    dido_search('gaz') %>%    dido_search('epci') %>%   datafiles() %>%    select(title) knitr::kable(result) result <- datasets() %>%    dido_search('gaz') %>%    dido_search('epci') %>%   datafiles() %>%    dido_search('gaz') %>%   select(title) knitr::kable(result)"},{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"vérifier-que-les-données-de-ces-3-datafiles-sont-homogènes-","dir":"Articles","previous_headings":"récupérer les données de consommation de gaz à la maille EPCI","what":"vérifier que les données de ces 3 datafiles sont homogènes.","title":"Premiers pas","text":"columns() nous indique que nous avons bien 3 datafiles et que les colonnes sont toutes communes au 3 datafiles sauf 1. Sans doute un ajout de colonne. Vous pouvez regarder les fichiers annexes : Et les télécharger :","code":"result <- datasets() %>%   dido_search('gaz') %>%    dido_search('epci') %>%   datafiles() %>%    dido_search('gaz') %>%   columns() knitr::kable(result) attachments <- datasets() %>%   dido_search('gaz') %>%    dido_search('epci') %>%   datafiles() %>%    dido_search('gaz') %>%   attachments() knitr::kable(head(attachments, n=2)) datasets() %>%   dido_search('gaz') %>%    dido_search('epci') %>%   datafiles() %>%    dido_search('gaz') %>%   attachments() %>%   get_attachments(dest = tempdir())"},{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"télécharger-les-données","dir":"Articles","previous_headings":"récupérer les données de consommation de gaz à la maille EPCI","what":"télécharger les données","title":"Premiers pas","text":"La commande get_data() s’occupe de télécharger les différents datafiles et les concatène. data contient maintenant les données des 3 datafiles sur le gaz à la maille EPCI","code":"data <- datasets() %>%   dido_search('gaz') %>%    dido_search('epci') %>%   datafiles() %>%    dido_search('gaz') %>%   get_data() #>  Downloading: 10 B      Downloading: 10 B      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 10 kB      Downloading: 10 kB      Downloading: 10 kB      Downloading: 10 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 32 kB      Downloading: 32 kB      Downloading: 32 kB      Downloading: 32 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 50 kB      Downloading: 50 kB      Downloading: 50 kB      Downloading: 50 kB      Downloading: 50 kB      Downloading: 50 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 53 kB      Downloading: 61 kB      Downloading: 61 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 65 kB      Downloading: 65 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 73 kB      Downloading: 73 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 77 kB      Downloading: 77 kB      Downloading: 81 kB      Downloading: 81 kB      Downloading: 81 kB      Downloading: 81 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 90 kB      Downloading: 97 kB      Downloading: 97 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 10 B      Downloading: 10 B      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 10 kB      Downloading: 10 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 24 kB      Downloading: 24 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 32 kB      Downloading: 32 kB      Downloading: 32 kB      Downloading: 32 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 51 kB      Downloading: 51 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 56 kB      Downloading: 56 kB      Downloading: 56 kB      Downloading: 56 kB      Downloading: 56 kB      Downloading: 56 kB      Downloading: 64 kB      Downloading: 64 kB      Downloading: 65 kB      Downloading: 65 kB      Downloading: 65 kB      Downloading: 65 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 67 kB      Downloading: 67 kB      Downloading: 67 kB      Downloading: 67 kB      Downloading: 67 kB      Downloading: 67 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 75 kB      Downloading: 79 kB      Downloading: 79 kB      Downloading: 81 kB      Downloading: 81 kB      Downloading: 81 kB      Downloading: 81 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 94 kB      Downloading: 94 kB      Downloading: 94 kB      Downloading: 94 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 98 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 10 B      Downloading: 10 B      Downloading: 6.9 kB      Downloading: 6.9 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 36 kB      Downloading: 36 kB      Downloading: 41 kB      Downloading: 41 kB      Downloading: 41 kB      Downloading: 41 kB      Downloading: 41 kB      Downloading: 41 kB      Downloading: 44 kB      Downloading: 44 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 50 kB      Downloading: 50 kB      Downloading: 51 kB      Downloading: 51 kB      Downloading: 51 kB      Downloading: 51 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 54 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 62 kB      Downloading: 70 kB      Downloading: 70 kB      Downloading: 70 kB      Downloading: 70 kB      Downloading: 70 kB      Downloading: 70 kB      Downloading: 71 kB      Downloading: 71 kB      Downloading: 77 kB      Downloading: 77 kB      Downloading: 77 kB      Downloading: 77 kB      Downloading: 77 kB      Downloading: 77 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 290 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 300 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 310 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 320 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 330 kB      Downloading: 10 B      Downloading: 10 B      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 26 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 33 kB      Downloading: 34 kB      Downloading: 34 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 37 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 45 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 49 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 52 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 64 kB      Downloading: 64 kB      Downloading: 64 kB      Downloading: 64 kB      Downloading: 66 kB      Downloading: 66 kB      Downloading: 72 kB      Downloading: 72 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 74 kB      Downloading: 78 kB      Downloading: 78 kB      Downloading: 78 kB      Downloading: 78 kB      Downloading: 78 kB      Downloading: 78 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 94 kB      Downloading: 94 kB      Downloading: 94 kB      Downloading: 94 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 140 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 150 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 160 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 170 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 180 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 190 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 200 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 210 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 220 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 230 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 240 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 250 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 260 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 270 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB      Downloading: 280 kB knitr::kable(head(data, n = 2))"},{"path":"https://mtes-mct.github.io/didor/articles/premiers_pas.html","id":"convertir-les-données-numériques","dir":"Articles","previous_headings":"récupérer les données de consommation de gaz à la maille EPCI","what":"convertir les données numériques","title":"Premiers pas","text":"Les données peuvent contenir des valeurs secrétisées se présentant sous la forme de la chaine secret, R ne peut donc pas deviner correctement le type des colonnes. La commande convert() utilise les métadonnées de l’API pour réaliser la conversion, les données secrétisées sont retournées en NA Testons cette conversion sur les ventes mensuelles de produits pétroliers depuis 2017 : Les variables sont toutes de type chr. Pour convertir ces données : Attention, la conversion s’appuie sur l’usage des attributs qui sont perdues à la première manipulation des tibbles/dataframes. convert() doit être fait immédiatement après get_data()","code":"(data <- datasets() %>%    dido_search(\"Données mensuelles.*pétroliers\") %>%    filter(temporal_coverage_start >= \"2017-01-01\") %>%    datafiles() %>%    dido_search(\"gazole routier\") %>%    get_data()) #>  Downloading: 10 B      Downloading: 10 B      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.1 kB      Downloading: 3.2 kB      Downloading: 3.2 kB      Downloading: 3.2 kB      Downloading: 3.2 kB #>  [38;5;246m# A tibble: 60 × 13 [39m #>    ANNEE MOIS    SUPER_SANS_PLOMB SUPER_SANS_PLOMB_95 SUPER_SANS_PLOMB_95_E10 #>     [3m [38;5;246m<chr> [39m [23m  [3m [38;5;246m<chr> [39m [23m    [3m [38;5;246m<chr> [39m [23m             [3m [38;5;246m<chr> [39m [23m                [3m [38;5;246m<chr> [39m [23m                   #>  [38;5;250m 1 [39m 2017  2017-11 583671           206971              237447                  #>  [38;5;250m 2 [39m 2018  2018-04 652732           221168              268552                  #>  [38;5;250m 3 [39m 2017  2017-01 516331           197700              204431                  #>  [38;5;250m 4 [39m 2018  2018-02 529209           181969              224800                  #>  [38;5;250m 5 [39m 2019  2019-10 735285.7         197209.5            355882.9                #>  [38;5;250m 6 [39m 2020  2020-05 437680.6         112376.8            198083.4                #>  [38;5;250m 7 [39m 2020  2020-06 667434.4         164916.5            317289.1                #>  [38;5;250m 8 [39m 2021  2021-06 798671.4704      182105.786          397610.362              #>  [38;5;250m 9 [39m 2017  2017-09 683669           251555              263472                  #>  [38;5;250m10 [39m 2017  2017-10 608773           216741              241231                  #>  [38;5;246m# ℹ 50 more rows [39m #>  [38;5;246m# ℹ 8 more variables: SUPER_SANS_PLOMB_98 <chr>, SUPER_ETH_E85 <chr>, [39m #>  [38;5;246m#   GAZOLE <chr>, FOD <chr>, FOL <chr>, GNR <chr>, GPL <chr>, [39m #>  [38;5;246m#   CARBUREACTEUR <chr> [39m convert(data) #> # A tibble: 60 × 13 #>    ANNEE MOIS    SUPER_SANS_PLOMB SUPER_SANS_PLOMB_95 SUPER_SANS_PLOMB_95_E10 #>    <chr> <chr>              <dbl>               <dbl>                   <dbl> #>  1 2017  2017-11          583671              206971                  237447  #>  2 2018  2018-04          652732              221168                  268552  #>  3 2017  2017-01          516331              197700                  204431  #>  4 2018  2018-02          529209              181969                  224800  #>  5 2019  2019-10          735286.             197210.                 355883. #>  6 2020  2020-05          437681.             112377.                 198083. #>  7 2020  2020-06          667434.             164916.                 317289. #>  8 2021  2021-06          798671.             182106.                 397610. #>  9 2017  2017-09          683669              251555                  263472  #> 10 2017  2017-10          608773              216741                  241231  #> # ℹ 50 more rows #> # ℹ 8 more variables: SUPER_SANS_PLOMB_98 <dbl>, SUPER_ETH_E85 <dbl>, #> #   GAZOLE <dbl>, FOD <dbl>, FOL <dbl>, GNR <dbl>, GPL <dbl>, #> #   CARBUREACTEUR <dbl>"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"dido","dir":"Articles","previous_headings":"","what":"DIDO","title":"Tutoriel didor","text":"Un catalogue à disposition du public, utilisable avec {didor} Un système d’alimentation du catalogue pour les agents qui alimentent régulièrement DIDO","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"catalogue","dir":"Articles","previous_headings":"DIDO","what":"Catalogue","title":"Tutoriel didor","text":"trouve ici le catalogue DIDO : https://www.statistiques.developpement-durable.gouv.fr/catalogue?page=explore&type=dataset&pagination=1&sortField=last_modified&sortOrder=desc","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"des-jeux-de-données-et-des-fichiers-de-données","dir":"Articles","previous_headings":"DIDO","what":"Des jeux de données et des fichiers de données","title":"Tutoriel didor","text":"DIDO propose aujourd’hui (23/02/2023) Une vingtaine de jeux de données (dataset) et environ 120 fichiers de données (datafile). 1 ou plusieurs fichiers de données sont inclus dans un jeu de données. Chaque jeu de données contient des fichiers d’annexes. La logique est donc la suivante : explore DIDO en commençant par chercher le dataset qui nous intéresse, puis trouve la donnée en explorant les datafiles avec l’aide des annexes. Ces annexes commentent et précisent la nature des informations contenues dans les datafiles qui constituent un ensemble logique d’informations : le dataset exploré.","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"que-lon-peut-aussi-explorer-directement-avec-r-didor","dir":"Articles","previous_headings":"DIDO","what":"Que l’on peut aussi explorer directement avec R {didor}","title":"Tutoriel didor","text":"{didor} est un package R https://github.com/MTES-MCT/didor qui propose une documentation de prise en main :https://mtes-mct.github.io/didor/articles/premiers_pas.html","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"explorons","dir":"Articles","previous_headings":"","what":"Explorons","title":"Tutoriel didor","text":"Il va nous falloir des fonctions du tidyverse","code":"library(tidyverse) ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ── ## ✔ dplyr     1.1.1     ✔ readr     2.1.4 ## ✔ forcats   1.0.0     ✔ stringr   1.5.0 ## ✔ ggplot2   3.4.1     ✔ tibble    3.2.1 ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0 ## ✔ purrr     1.0.1      ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ── ## ✖ dplyr::filter() masks stats::filter() ## ✖ dplyr::lag()    masks stats::lag() ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"je-voudrais-la-liste-des-jeux-de-données-proposés","dir":"Articles","previous_headings":"Explorons","what":"je voudrais la liste des jeux de données proposés","title":"Tutoriel didor","text":"","code":"tbl_dataset <- didor::datasets() knitr::kable(tbl_dataset[,c(\"title\",\"spatial_granularity\")] %>% head(5), format=\"html\")"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"je-voudrais-la-liste-des-fichiers-de-données-proposés","dir":"Articles","previous_headings":"Explorons","what":"je voudrais la liste des fichiers de données proposés","title":"Tutoriel didor","text":"Disons que je m’interesse à ce jeu de donnée : Indicateurs territoriaux de développement durable (ITDD) J’ai envie d’écrire cela : Trop de résultats au milieu de tous les fichiers de données ! Les infos des fichiers de données ne permettent pas de filtrer sur les jeux de données auxquels ils appartiennent. Il faut donc d’abord sélectionner le jeu de données qui nous intéresse : brutalement par exemple : ou avec la fonction dido_search : Peu importe le moyen, peut maintenant chercher les fichiers contenus dans le jeu de données : Même ainsi, il y du choix !","code":"tbl_datafile_itdd <- tbl_dataset %>% didor::datafiles() knitr::kable(tbl_datafile_itdd[,c(\"title\",\"description\")] %>% head(5), format=\"html\") tbl_dataset <- didor::datasets() %>%   dplyr::filter(title %in% c(\"Indicateurs territoriaux de développement durable (ITDD)\")) knitr::kable(tbl_dataset[,c(\"title\",\"spatial_granularity\")], format=\"html\") tbl_dataset <- didor::datasets() %>%   didor::dido_search(\"ITDD\") knitr::kable(tbl_dataset[,c(\"title\",\"spatial_granularity\")], format=\"html\") tbl_datafile_itdd <- didor::datasets() %>%   didor::dido_search(\"ITDD\") %>%   didor::datafiles() knitr::kable(tbl_datafile_itdd[,c(\"title\",\"description\")] %>% head(5), format=\"html\")"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"je-voudrais-un-fichier-de-données-dans-un-dataframe","dir":"Articles","previous_headings":"Explorons","what":"je voudrais un fichier de données dans un dataframe","title":"Tutoriel didor","text":"Donc en sélectionne un : Et le récupère : le met dans un tibble. C’est quoi un tibble ?https://tibble.tidyverse.org/ Il est donc chargé en mémoire dans R.","code":"tbl_datafile_itdd <- didor::datasets() %>%   didor::dido_search(\"ITDD\") %>%   didor::datafiles() %>%   didor::dido_search(\"Bourgogne-Franche-Comté\") knitr::kable(tbl_datafile_itdd[,c(\"title\",\"description\")], format=\"html\") tbl_datafile_itdd <- didor::datasets() %>%   didor::dido_search(\"ITDD\") %>%   didor::datafiles() %>%   didor::dido_search(\"Bourgogne-Franche-Comté\") %>%   didor::get_data(query = c(     columns = \"CODGEO_CODE,CODGEO_LIBELLE,A2019,A2018,A2017\",     # NO_INDIC =\"eq:i021\",     VARIABLE = \"eq:ESO_PES_NB_TOT_CLAS4\",     NO_INDIC =\"eq:i034b\"   )) ##  Downloading: 10 B      Downloading: 10 B      Downloading: 10 B      Downloading: 10 B      Downloading: 2.8 kB      Downloading: 2.8 kB      Downloading: 2.8 kB      Downloading: 2.8 kB      Downloading: 2.8 kB      Downloading: 2.8 kB      Downloading: 9.8 kB      Downloading: 9.8 kB      Downloading: 9.8 kB      Downloading: 9.8 kB      Downloading: 9.8 kB      Downloading: 9.8 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 30 kB      Downloading: 30 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB knitr::kable(tbl_datafile_itdd %>% head(30) , format=\"html\")"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"mais-quest-ce-que-cest-que-ces-paramètres-dans-get_data","dir":"Articles","previous_headings":"Explorons","what":"Mais qu’est ce que c’est que ces paramètres dans get_data ?","title":"Tutoriel didor","text":"{didor} ne fait rien d’autre que proposer les mêmes outils que ceux dont dispose dans le catalogue : selectionner des colonnes filtrer les lignes selon un critère sur une variable ou plusieurs","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"paramètres","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"paramètres","title":"Tutoriel didor","text":"didor::get_data() peut prendre un paramètre query et ce n’est qu’une requête écrite et passée à l’API. trouve donc des informations qui permettent de s’y retrouver dans la documentation de l’API du fichier de données :","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"les-annexes","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"Les annexes","title":"Tutoriel didor","text":"Dans l’onglets métadonnées du fichier de données ou après les fichiers de données, dans le jeu de données. peut les consulter en ligne ou directement les récupérer via didor::attachments()","code":"tbl_attachment <- didor::datasets() %>%     didor::dido_search(\"ITDD\") %>%     didor::attachments() %>%     didor::dido_search(\"6.01\") %>%     didor::get_attachments(dest = tempdir()) ## file downloaded: /tmp/Rtmpuiwt8S/dictionnaire-indicateurs-territoriaux-developpement-durable.xlsx"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"typage","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"typage","title":"Tutoriel didor","text":"Les données sont toutes en chr : pour les manipuler ce n’est pas forcément pratique. C’est néanmoins nécessaire, pourquoi ? Dans un datafile, une variable (colonne) numérique contient une valeur qui peut être manquante. Le producteur de la donnée peut, s’il le souhaite, préciser la raison de l’absence. “secret” indiquera que la valeur sous secret statistique Donc dans DIDO, (numérique) est équivalent à (type numérique de R union “secret”) Bref, en utilisant la fonction convert(), supprime tout cela et peut effectuer des opérations mathématiques. Il suffit de les convertir avec la fonction convert()","code":"str(tbl_datafile_itdd) ## tibble [3,700 × 5] (S3: tbl_df/tbl/data.frame) ##  $ CODGEO_CODE   : chr [1:3700] \"21001\" \"21002\" \"21003\" \"21004\" ... ##   ..- attr(*, \"name\")= chr \"CODGEO_CODE\" ##   ..- attr(*, \"description\")= chr \"COG_COMMUNE - Code de la zone\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"string\" ##   ..- attr(*, \"converted\")= logi FALSE ##  $ CODGEO_LIBELLE: chr [1:3700] \"Agencourt\" \"Agey\" \"Ahuy\" \"Aignay-le-Duc\" ... ##   ..- attr(*, \"name\")= chr \"CODGEO_LIBELLE\" ##   ..- attr(*, \"description\")= chr \"COG_COMMUNE - Libellé de la zone\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"string\" ##   ..- attr(*, \"converted\")= logi FALSE ##  $ A2019         : chr [1:3700] \"0\" \"0\" \"0\" \"0\" ... ##   ..- attr(*, \"name\")= chr \"A2019\" ##   ..- attr(*, \"description\")= chr \"A2019\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"number\" ##   ..- attr(*, \"converted\")= logi FALSE ##  $ A2018         : chr [1:3700] \"0\" \"0\" \"0\" \"0\" ... ##   ..- attr(*, \"name\")= chr \"A2018\" ##   ..- attr(*, \"description\")= chr \"A2018\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"number\" ##   ..- attr(*, \"converted\")= logi FALSE ##  $ A2017         : chr [1:3700] \"0\" \"0\" \"0\" \"0\" ... ##   ..- attr(*, \"name\")= chr \"A2017\" ##   ..- attr(*, \"description\")= chr \"A2017\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"number\" ##   ..- attr(*, \"converted\")= logi FALSE tbl_datafile_itdd <- didor::datasets() %>%   didor::dido_search(\"ITDD\") %>%   didor::datafiles() %>%   didor::dido_search(\"Bourgogne-Franche-Comté\") %>%   didor::get_data(query = c(     columns = \"CODGEO_CODE,CODGEO_LIBELLE,A2019,A2018,A2017\",     # NO_INDIC =\"eq:i021\",     VARIABLE = \"eq:ESO_PES_NB_TOT_CLAS4\",     NO_INDIC =\"eq:i034b\"   )) %>%   didor::convert() ##  Downloading: 10 B      Downloading: 10 B      Downloading: 3.2 kB      Downloading: 3.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 12 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 20 kB      Downloading: 20 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 30 kB      Downloading: 30 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB str(tbl_datafile_itdd) ## tibble [3,700 × 5] (S3: tbl_df/tbl/data.frame) ##  $ CODGEO_CODE   : chr [1:3700] \"21001\" \"21002\" \"21003\" \"21004\" ... ##   ..- attr(*, \"name\")= chr \"CODGEO_CODE\" ##   ..- attr(*, \"description\")= chr \"COG_COMMUNE - Code de la zone\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"string\" ##   ..- attr(*, \"converted\")= logi FALSE ##  $ CODGEO_LIBELLE: chr [1:3700] \"Agencourt\" \"Agey\" \"Ahuy\" \"Aignay-le-Duc\" ... ##   ..- attr(*, \"name\")= chr \"CODGEO_LIBELLE\" ##   ..- attr(*, \"description\")= chr \"COG_COMMUNE - Libellé de la zone\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"string\" ##   ..- attr(*, \"converted\")= logi FALSE ##  $ A2019         : num [1:3700] 0 0 0 0 0 0 0 0 0 0 ... ##   ..- attr(*, \"name\")= chr \"A2019\" ##   ..- attr(*, \"description\")= chr \"A2019\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"number\" ##   ..- attr(*, \"converted\")= logi TRUE ##  $ A2018         : num [1:3700] 0 0 0 0 0 0 0 0 0 0 ... ##   ..- attr(*, \"name\")= chr \"A2018\" ##   ..- attr(*, \"description\")= chr \"A2018\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"number\" ##   ..- attr(*, \"converted\")= logi TRUE ##  $ A2017         : num [1:3700] 0 0 0 0 0 0 0 0 0 0 ... ##   ..- attr(*, \"name\")= chr \"A2017\" ##   ..- attr(*, \"description\")= chr \"A2017\" ##   ..- attr(*, \"unit\")= chr \"n/a\" ##   ..- attr(*, \"type\")= chr \"number\" ##   ..- attr(*, \"converted\")= logi TRUE"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"cherchons-une-correlation","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"Cherchons une correlation","title":"Tutoriel didor","text":"Par exemple, entre la participation au présidentielles 2022 et le taux de 20/24 ans sortis non diplomés En en faisant un nuage de points :","code":"result <- didor::datasets() %>%   didor::dido_search(\"ITDD\") %>%   didor::datafiles() %>%   didor::dido_search(\"Bourgogne-Franche-Comté\") %>%   didor::get_data(query = c(     columns = \"VARIABLE,CODGEO_CODE,CODGEO_LIBELLE,A2022,A2019,A2017,A2013,A2012,A2007,A2002\",     # NO_INDIC =\"eq:i021\",     # VARIABLE = \"eq:taux_participation\"     VARIABLE = \"in:part_20_24_sortis_nondip,taux_participation\"     #NO_INDIC =\"eq:i110\"   )) %>%   didor::convert() %>%   dplyr::select(CODGEO_CODE,A2022,A2019) %>%   group_by(CODGEO_CODE) %>%   summarise_at(c(\"A2022\",\"A2019\"),sum,na.rm=T) ##  Downloading: 10 B      Downloading: 10 B      Downloading: 3.2 kB      Downloading: 3.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 8.2 kB      Downloading: 11 kB      Downloading: 11 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 16 kB      Downloading: 19 kB      Downloading: 19 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 25 kB      Downloading: 27 kB      Downloading: 27 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 28 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 31 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 39 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 47 kB      Downloading: 55 kB      Downloading: 55 kB      Downloading: 55 kB      Downloading: 55 kB      Downloading: 55 kB      Downloading: 55 kB      Downloading: 57 kB      Downloading: 57 kB      Downloading: 57 kB      Downloading: 57 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 60 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 68 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 76 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 82 kB      Downloading: 84 kB      Downloading: 84 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 85 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 93 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 100 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 110 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 120 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB      Downloading: 130 kB knitr::kable(result %>% head(5) , format=\"html\") ggplot(result, aes(x=A2022, y=A2019)) + geom_point()"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"eco-considérations","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"eco-considérations","title":"Tutoriel didor","text":"Jusqu’à présent, rien n’est écrit sur disque, tout est en mémoire. Les données sont récupérées, et transitent donc sur le réseau lorsqu’fait un get_data() et les paramètres de la ‘query’ du get_data() filtrent et sélectionnent les données qui sont transférées. Le filtrage/sélection s’effectue dans DIDO. Si avait tout récupéré sans filtrer/sélectionner aurait envoyé environ 20 millions de lignes et un bon paquet de colonnes au travers du réseau, ça aurait pris du temps… probablement planté… et consommé plein de ressources inutiles… Bref, filtrer/sélectionner au plus près de DIDO, c’est mieux !","code":""},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"on-peut-faire-du-shiny-avec-didor","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"On peut faire du {shiny} avec {didor}","title":"Tutoriel didor","text":"peut utiliser {didor} dans une appli {shiny} un exemple avec les données NAMEA d’emission de GES","code":"library(shiny) library(didor) library(stringr)  code_nace <-   datasets() %>%   dido_search('NAMEA') %>%   datafiles() %>%   get_data(     query = c(columns = \"CODE_NACE_REV2_ET_MENAGES,LIBELLE_NACE_ET_MENAGES\")   ) shinyApp(  # Define UI for application that draws a histogram ui <- fillPage(   tags$style(HTML('     body {         font-family: \"Helvetica Neue\",Helvetica,Arial,sans-serif;         font-size: 7px;         line-height: 1.42857143;         color: #333;         background-color: #fff;     }     ')),     # Application title     titlePanel(\"{didor}+{shiny}\"),      # Sidebar with a slider input for number of bins      sidebarLayout(       sidebarPanel(         selectInput(           inputId = \"nace\",           label = \"code nace\",           choices = unique(code_nace$LIBELLE_NACE_ET_MENAGES)         ),         width=2       ),       mainPanel(           tableOutput(\"table\"),         width=10       )     ) ),  # Define server logic required to draw a histogram server <- function(input, output) {    code_nace_select <- reactive({     str_c(       \"in:\",       as.character(         dplyr::filter(           unique(             code_nace           ),           LIBELLE_NACE_ET_MENAGES %in% c(input$nace))[1])     )        })      data <- reactive({     datasets() %>%       dido_search('NAMEA') %>%       datafiles() %>%       get_data(         query = c(SUBSTANCE=\"in:GES\",CODE_NACE_REV2_ET_MENAGES=code_nace_select())       )   })    output$table <- renderTable(data()) },  options = list(width = \"100%\",height = 500)  ) # Run the application  shinyApp(ui = ui, server = server)"},{"path":"https://mtes-mct.github.io/didor/articles/tutoriel_didor.html","id":"crédits","dir":"Articles","previous_headings":"Explorons > Mais qu’est ce que c’est que ces paramètres dans get_data ?","what":"Crédits","title":"Tutoriel didor","text":"Merci à Nicolas Chuche pour la construction de {didor} et merci à vous de vos retours sur son utilisation : nous vous invitons à ouvrir des issues dans github afin de nous permettre d’améliorer ce package : https://github.com/MTES-MCT/didor/issues (et merci à Olivier Chantrel pour ce tutoriel !)","code":""},{"path":"https://mtes-mct.github.io/didor/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Nicolas Chuche. Author, maintainer. Olivier Chantrel. Contributor.","code":""},{"path":"https://mtes-mct.github.io/didor/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chuche N (2023). didor: Tools Explore Download CGDD/SDES Opendata. R package version 0.0.3.9000.","code":"@Manual{,   title = {didor: Tools to Explore and Download CGDD/SDES Opendata},   author = {Nicolas Chuche},   year = {2023},   note = {R package version 0.0.3.9000}, }"},{"path":[]},{"path":"https://mtes-mct.github.io/didor/index.html","id":"didor","dir":"","previous_headings":"","what":"DiDoR","title":"Tools to Explore and Download CGDD/SDES Opendata","text":"R library explore access data published CGDD/SDES https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/apidoc.html","code":""},{"path":"https://mtes-mct.github.io/didor/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools to Explore and Download CGDD/SDES Opendata","text":"’s released version didor CRAN. can install development version GitHub:","code":"# Install from GitHub library(devtools) devtools::install_github(\"mtes-mct/didor\")"},{"path":"https://mtes-mct.github.io/didor/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Tools to Explore and Download CGDD/SDES Opendata","text":"See tutorial one package homepage information examples.","code":"library(didor) library(tidyverse)  result <- datasets() %>%   dido_search(\"produit-petrolier\") %>%   datafiles() %>%   dido_search(\"drom\") %>%   get_data() #> Downloading: 340 B     Downloading: 340 B     Downloading: 1.3 kB     Downloading: 1.3 kB     Downloading: 1.3 kB     Downloading: 1.3 kB     Downloading: 1.3 kB     Downloading: 1.3 kB knitr::kable(head(result))"},{"path":"https://mtes-mct.github.io/didor/reference/attachments.html","id":null,"dir":"Reference","previous_headings":"","what":"Get attachments informations — attachments","title":"Get attachments informations — attachments","text":"return information datafiles can use datasets() command entry","code":""},{"path":"https://mtes-mct.github.io/didor/reference/attachments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get attachments informations — attachments","text":"","code":"attachments(data = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/attachments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get attachments informations — attachments","text":"data tibble datasets given datasets() NULL (default)","code":""},{"path":"https://mtes-mct.github.io/didor/reference/attachments.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get attachments informations — attachments","text":"tibble datafiles informations","code":""},{"path":"https://mtes-mct.github.io/didor/reference/attachments.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get attachments informations — attachments","text":"","code":"# \\donttest{ dfs <- datafiles() # }"},{"path":"https://mtes-mct.github.io/didor/reference/build_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"build_attributes — build_attributes","title":"build_attributes — build_attributes","text":"return attributes attach downloaded dataframe","code":""},{"path":"https://mtes-mct.github.io/didor/reference/build_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"build_attributes — build_attributes","text":"","code":"build_attributes(columns)"},{"path":"https://mtes-mct.github.io/didor/reference/build_attributes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"build_attributes — build_attributes","text":"columns; returned columns()","code":""},{"path":"https://mtes-mct.github.io/didor/reference/build_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build url — build_url","title":"Build url — build_url","text":"build url parameters","code":""},{"path":"https://mtes-mct.github.io/didor/reference/build_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build url — build_url","text":"","code":"build_url(path, default_query = list(), query = list())"},{"path":"https://mtes-mct.github.io/didor/reference/build_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build url — build_url","text":"path api route default_query default parameters query vector query users parameters query vector","code":""},{"path":"https://mtes-mct.github.io/didor/reference/build_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build url — build_url","text":"complete url call","code":""},{"path":"https://mtes-mct.github.io/didor/reference/build_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build url — build_url","text":"","code":"build_url(\"/datasets\", query = c(page = 1, pageSize = 1)) #> [1] \"https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/datasets?page=1&pageSize=1\" build_url(\"/datasets\",   default_query = c(default = \"default\"),   query = c(page = 1, pageSize = 1) ) #> [1] \"https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/datasets?default=default&page=1&pageSize=1\""},{"path":"https://mtes-mct.github.io/didor/reference/columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Get columns count on millesimes — columns","title":"Get columns count on millesimes — columns","text":"command return list columns founded input tibble count. allows verify millesimes coherent","code":""},{"path":"https://mtes-mct.github.io/didor/reference/columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get columns count on millesimes — columns","text":"","code":"columns(data, quiet = FALSE)"},{"path":"https://mtes-mct.github.io/didor/reference/columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get columns count on millesimes — columns","text":"data datafiles tibble (returned datafiles() function) quiet logical; suppress message. Default FALSE","code":""},{"path":"https://mtes-mct.github.io/didor/reference/columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get columns count on millesimes — columns","text":"tibble columns found input datafiles occurrence column","code":""},{"path":"https://mtes-mct.github.io/didor/reference/columns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get columns count on millesimes — columns","text":"","code":"datafiles() %>% columns() #> nb of datafiles: 124 #> # A tibble: 723 × 6 #>    name  description type   format unit  `nb of occurrences` #>    <chr> <chr>       <chr>  <chr>  <chr>               <int> #>  1 A1955 A1955       number NA     n/a                     4 #>  2 A1960 A1960       number NA     n/a                     4 #>  3 A1965 A1965       number NA     n/a                     4 #>  4 A1970 A1970       number NA     n/a                     4 #>  5 A1975 A1975       number NA     n/a                     4 #>  6 A1980 A1980       number NA     n/a                     4 #>  7 A1982 A1982       number NA     n/a                    25 #>  8 A1983 A1983       number NA     n/a                    25 #>  9 A1984 A1984       number NA     n/a                    25 #> 10 A1985 A1985       number NA     n/a                    25 #> # ℹ 713 more rows"},{"path":"https://mtes-mct.github.io/didor/reference/convert.html","id":null,"dir":"Reference","previous_headings":"","what":"convert — convert","title":"convert — convert","text":"Try convert columns according types sended API.","code":""},{"path":"https://mtes-mct.github.io/didor/reference/convert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert — convert","text":"","code":"convert(data)"},{"path":"https://mtes-mct.github.io/didor/reference/convert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert — convert","text":"data dataframe returned get_data()","code":""},{"path":"https://mtes-mct.github.io/didor/reference/convert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert — convert","text":"tibble converted integer number columns","code":""},{"path":"https://mtes-mct.github.io/didor/reference/convert.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"convert — convert","text":"CAUTION private life reason, data returns DiDo secretize (value replaced string \"secret\") readr determine data type. secret values transform NA can find column's type columns()","code":""},{"path":"https://mtes-mct.github.io/didor/reference/convert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"convert — convert","text":"","code":"datafiles() %>%   dido_search(\"6c79805c-def9-4695-9d9f-7d86599c4d8a\") %>%   get_data() %>%   convert() #>  Downloading: 340 B      Downloading: 340 B      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      #> # A tibble: 55 × 10 #>    DEPARTEMENT_CODE DEPARTEMENT_LIBELLE REGION_CODE REGION_LIBELLE ANNEE #>    <chr>            <chr>               <chr>       <chr>          <chr> #>  1 971              Guadeloupe          01          Guadeloupe     2021  #>  2 972              Martinique          02          Martinique     2021  #>  3 973              Guyane              03          Guyane         2021  #>  4 974              La Réunion          04          La Réunion     2021  #>  5 976              Mayotte             06          Mayotte        2021  #>  6 971              Guadeloupe          01          Guadeloupe     2020  #>  7 972              Martinique          02          Martinique     2020  #>  8 973              Guyane              03          Guyane         2020  #>  9 974              La Réunion          04          La Réunion     2020  #> 10 976              Mayotte             06          Mayotte        2020  #> # ℹ 45 more rows #> # ℹ 5 more variables: ESSENCE_M3 <dbl>, GAZOLE_M3 <dbl>, FIOUL_M3 <dbl>, #> #   GPL_M3 <dbl>, CARBUREACTEUR_M3 <dbl>"},{"path":"https://mtes-mct.github.io/didor/reference/datafiles.html","id":null,"dir":"Reference","previous_headings":"","what":"Get datafiles informations — datafiles","title":"Get datafiles informations — datafiles","text":"return information datafiles can use datasets() command entry","code":""},{"path":"https://mtes-mct.github.io/didor/reference/datafiles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get datafiles informations — datafiles","text":"","code":"datafiles(data = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/datafiles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get datafiles informations — datafiles","text":"data tibble datasets given datasets() NULL (default)","code":""},{"path":"https://mtes-mct.github.io/didor/reference/datafiles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get datafiles informations — datafiles","text":"tibble datafiles informations","code":""},{"path":"https://mtes-mct.github.io/didor/reference/datafiles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get datafiles informations — datafiles","text":"","code":"dfs <- datafiles()"},{"path":"https://mtes-mct.github.io/didor/reference/datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Get datasets informations — datasets","title":"Get datasets informations — datasets","text":"Load datasets information tibble needed return ","code":""},{"path":"https://mtes-mct.github.io/didor/reference/datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get datasets informations — datasets","text":"","code":"datasets(data = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get datasets informations — datasets","text":"data datafiles tibble (returned datafiles() function) NULL (default)","code":""},{"path":"https://mtes-mct.github.io/didor/reference/datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get datasets informations — datasets","text":"tibble datasets information","code":""},{"path":"https://mtes-mct.github.io/didor/reference/datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get datasets informations — datasets","text":"","code":"datasets() #> # A tibble: 21 × 21 #>    id             title description topic tags  license frequency frequency_date #>    <chr>          <chr> <chr>       <chr> <chr> <chr>   <chr>     <chr>          #>  1 6102466697d92… Donn… \"Données l… Éner… chal… fr-lo   annual    2021-10-01     #>  2 610247f1e4366… Donn… \"Données l… Éner… cons… fr-lo   annual    2021-10-01     #>  3 631b03afb61e5… Conj… \"Principal… Éner… conj… fr-lo   monthly   2023-04-07     #>  4 63ecb0418b083… Donn… \"Les donné… Loge… ecln… fr-lo   quarterly 2023-05-16     #>  5 63ecb013d3616… Donn… \"Les donné… Loge… ecln… fr-lo   quarterly 2023-05-16     #>  6 63ecaef1c2379… Donn… \"Les donné… Loge… ecln… fr-lo   quarterly 2023-05-16     #>  7 632956d8eae13… Indi… \"Pour écla… Envi… deve… fr-lo   annual    2023-01-31     #>  8 63ecafe2c2379… Donn… \"Les donné… Loge… ecln… fr-lo   quarterly 2023-05-16     #>  9 63b8281ec113d… Donn… \"Ces donné… Loge… cons… fr-lo   annual    2023-12-15     #> 10 62792fb07ca0d… Qual… \"Ce jeu de… Envi… air,… fr-lo   annual    2023-11-14     #> # ℹ 11 more rows #> # ℹ 13 more variables: created_at <chr>, last_modified <chr>, weburl <chr>, #> #   views <int>, caution <chr>, organization_id <chr>, #> #   organization_title <chr>, organization_description <chr>, #> #   organization_acronym <chr>, temporal_coverage_start <chr>, #> #   temporal_coverage_end <chr>, spatial_zones <chr>, spatial_granularity <chr>"},{"path":"https://mtes-mct.github.io/didor/reference/dido_search.html","id":null,"dir":"Reference","previous_headings":"","what":"Return row matching pattern — dido_search","title":"Return row matching pattern — dido_search","text":"Return row matching pattern","code":""},{"path":"https://mtes-mct.github.io/didor/reference/dido_search.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return row matching pattern — dido_search","text":"","code":"dido_search(data, pattern)"},{"path":"https://mtes-mct.github.io/didor/reference/dido_search.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return row matching pattern — dido_search","text":"data Tibble datasets datafiles returned datasets() datafiles() pattern string used filter dataset idbank list","code":""},{"path":"https://mtes-mct.github.io/didor/reference/dido_search.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return row matching pattern — dido_search","text":"datafiles datasets table filtered pattern","code":""},{"path":"https://mtes-mct.github.io/didor/reference/dido_search.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return row matching pattern — dido_search","text":"","code":"dido_search(datasets(), \"drom\") #> # A tibble: 1 × 21 #>   id              title description topic tags  license frequency frequency_date #>   <chr>           <chr> <chr>       <chr> <chr> <chr>   <chr>     <chr>          #> 1 61024489e43667… Donn… Données lo… Éner… cons… fr-lo   annual    2022-10-01     #> # ℹ 13 more variables: created_at <chr>, last_modified <chr>, weburl <chr>, #> #   views <int>, caution <chr>, organization_id <chr>, #> #   organization_title <chr>, organization_description <chr>, #> #   organization_acronym <chr>, temporal_coverage_start <chr>, #> #   temporal_coverage_end <chr>, spatial_zones <chr>, spatial_granularity <chr>"},{"path":"https://mtes-mct.github.io/didor/reference/didor-package.html","id":null,"dir":"Reference","previous_headings":"","what":"didor: Tools to Explore and Download CGDD/SDES Opendata — didor-package","title":"didor: Tools to Explore and Download CGDD/SDES Opendata — didor-package","text":"Tools download data CGDD/SDES database https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/apidoc.html together search manipulation utilities.","code":""},{"path":"https://mtes-mct.github.io/didor/reference/didor-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"didor: Tools to Explore and Download CGDD/SDES Opendata — didor-package","text":"Maintainer: Nicolas Chuche nicolas.chuche@developpement-durable.gouv.fr contributors: Olivier Chantrel olivier.chantrel@developpement-durable.gouv.fr [contributor]","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_api_base_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get API base path — get_api_base_path","title":"Get API base path — get_api_base_path","text":"Get API base path. Can configured set_api_base_path DIDOLITE_API_BASE_PATH env var. Order : set_api_base_path used DIDOLITE_API_BASE_PATH default default_api_base_path","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_api_base_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get API base path — get_api_base_path","text":"","code":"get_api_base_path()"},{"path":"https://mtes-mct.github.io/didor/reference/get_api_base_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get API base path — get_api_base_path","text":"api base path","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_api_base_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get API base path — get_api_base_path","text":"","code":"get_api_base_path() #> [1] \"https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1\""},{"path":"https://mtes-mct.github.io/didor/reference/get_attachments.html","id":null,"dir":"Reference","previous_headings":"","what":"download attachments — get_attachments","title":"download attachments — get_attachments","text":"download attachments","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_attachments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download attachments — get_attachments","text":"","code":"get_attachments(data, dest = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/get_attachments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download attachments — get_attachments","text":"data tibble datasets given attachments(). Must contains id column dest directory write files","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_attachments.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"download attachments — get_attachments","text":"","code":"datasets() %>%   dido_search(\"drom\") %>%   attachments() %>%   get_attachments(dest = tempdir()) #> file downloaded: /tmp/Rtmpy0tL7D/liste-des-variables-donnees-annuelles-de-consommation-de-produits-petroliers-par-drom.pdf"},{"path":"https://mtes-mct.github.io/didor/reference/get_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"get_attributes — get_attributes","title":"get_attributes — get_attributes","text":"used internally reapply attributes data","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_attributes — get_attributes","text":"","code":"get_attributes(data)"},{"path":"https://mtes-mct.github.io/didor/reference/get_attributes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_attributes — get_attributes","text":"data data frame returned get_data","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_attributes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_attributes — get_attributes","text":"named list named list attributes column names","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get data — get_data","title":"Get data — get_data","text":"Get data last millesime datafiles found data. columns returned chr (see ).","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get data — get_data","text":"","code":"get_data(   data,   query = list(),   col_types = cols(.default = \"c\"),   concat = TRUE,   directory = tempdir() )"},{"path":"https://mtes-mct.github.io/didor/reference/get_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get data — get_data","text":"data tibble issued datafiles() dataframe two columns ridandmillesime`. query query pass API select columns filter values. col_types convert columns, default use char columns cols(.default = \"c\") concat TRUE directory directory cache/save downloaded files. Default tempdir()","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get data — get_data","text":"concat TRUE (default), return tibble data concatenated one tibble. concat FALSE, return list tibbles. get_data() returns chr","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get data — get_data","text":"can use convert() convert number integer. private life reason, data returned DiDo can secretize (value replaced string \"secret\") readr determine data type.","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get data — get_data","text":"","code":"# get all columns datafiles() %>%   dido_search(\"drom\") %>%   get_data() #>  Downloading: 340 B      Downloading: 340 B      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      Downloading: 1.3 kB      #> # A tibble: 55 × 10 #>    DEPARTEMENT_CODE DEPARTEMENT_LIBELLE REGION_CODE REGION_LIBELLE ANNEE #>    <chr>            <chr>               <chr>       <chr>          <chr> #>  1 971              Guadeloupe          01          Guadeloupe     2021  #>  2 972              Martinique          02          Martinique     2021  #>  3 973              Guyane              03          Guyane         2021  #>  4 974              La Réunion          04          La Réunion     2021  #>  5 976              Mayotte             06          Mayotte        2021  #>  6 971              Guadeloupe          01          Guadeloupe     2020  #>  7 972              Martinique          02          Martinique     2020  #>  8 973              Guyane              03          Guyane         2020  #>  9 974              La Réunion          04          La Réunion     2020  #> 10 976              Mayotte             06          Mayotte        2020  #> # ℹ 45 more rows #> # ℹ 5 more variables: ESSENCE_M3 <chr>, GAZOLE_M3 <chr>, FIOUL_M3 <chr>, #> #   GPL_M3 <chr>, CARBUREACTEUR_M3 <chr> # get only DEPARTEMENT_CODE and ESSENCE_M3 columns datafiles() %>%   dido_search(\"drom\") %>%   get_data(query = c(columns = \"DEPARTEMENT_CODE,ESSENCE_M3\")) #>  Downloading: 280 B      Downloading: 280 B      Downloading: 280 B      Downloading: 280 B      #> # A tibble: 55 × 2 #>    DEPARTEMENT_CODE ESSENCE_M3 #>    <chr>            <chr>      #>  1 971              118664     #>  2 972              125134     #>  3 973              39528      #>  4 974              151834     #>  5 976              22575      #>  6 971              112378     #>  7 972              115415     #>  8 973              26717      #>  9 974              129677     #> 10 976              19592      #> # ℹ 45 more rows # get only rows where `DEPARTEMENT_CODE == 971 datafiles() %>%   dido_search(\"drom\") %>%   get_data(query = c(DEPARTEMENT_CODE = \"eq:971\")) #>  Downloading: 340 B      Downloading: 340 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      #> # A tibble: 11 × 10 #>    DEPARTEMENT_CODE DEPARTEMENT_LIBELLE REGION_CODE REGION_LIBELLE ANNEE #>    <chr>            <chr>               <chr>       <chr>          <chr> #>  1 971              Guadeloupe          01          Guadeloupe     2021  #>  2 971              Guadeloupe          01          Guadeloupe     2020  #>  3 971              Guadeloupe          01          Guadeloupe     2019  #>  4 971              Guadeloupe          01          Guadeloupe     2018  #>  5 971              Guadeloupe          01          Guadeloupe     2017  #>  6 971              Guadeloupe          01          Guadeloupe     2016  #>  7 971              Guadeloupe          01          Guadeloupe     2015  #>  8 971              Guadeloupe          01          Guadeloupe     2014  #>  9 971              Guadeloupe          01          Guadeloupe     2013  #> 10 971              Guadeloupe          01          Guadeloupe     2012  #> 11 971              Guadeloupe          01          Guadeloupe     2011  #> # ℹ 5 more variables: ESSENCE_M3 <chr>, GAZOLE_M3 <chr>, FIOUL_M3 <chr>, #> #   GPL_M3 <chr>, CARBUREACTEUR_M3 <chr> datafiles() %>%   dido_search(\"drom\") %>%   get_data(query = c(DEPARTEMENT_CODE = \"eq:971\"), directory = tempdir()) #>  Downloading: 340 B      Downloading: 340 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      Downloading: 380 B      #> # A tibble: 11 × 10 #>    DEPARTEMENT_CODE DEPARTEMENT_LIBELLE REGION_CODE REGION_LIBELLE ANNEE #>    <chr>            <chr>               <chr>       <chr>          <chr> #>  1 971              Guadeloupe          01          Guadeloupe     2021  #>  2 971              Guadeloupe          01          Guadeloupe     2020  #>  3 971              Guadeloupe          01          Guadeloupe     2019  #>  4 971              Guadeloupe          01          Guadeloupe     2018  #>  5 971              Guadeloupe          01          Guadeloupe     2017  #>  6 971              Guadeloupe          01          Guadeloupe     2016  #>  7 971              Guadeloupe          01          Guadeloupe     2015  #>  8 971              Guadeloupe          01          Guadeloupe     2014  #>  9 971              Guadeloupe          01          Guadeloupe     2013  #> 10 971              Guadeloupe          01          Guadeloupe     2012  #> 11 971              Guadeloupe          01          Guadeloupe     2011  #> # ℹ 5 more variables: ESSENCE_M3 <chr>, GAZOLE_M3 <chr>, FIOUL_M3 <chr>, #> #   GPL_M3 <chr>, CARBUREACTEUR_M3 <chr>"},{"path":"https://mtes-mct.github.io/didor/reference/get_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get metadata — get_metadata","title":"Get metadata — get_metadata","text":"Download information api file passed argument Load data tibble","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get metadata — get_metadata","text":"","code":"get_metadata(url = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/get_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get metadata — get_metadata","text":"url empty, url filename. argument passed, default url used. file must compatible dido api format https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/apidoc.html#/datasets/paginate_datasets datasets described ","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get metadata — get_metadata","text":"nothing","code":""},{"path":"https://mtes-mct.github.io/didor/reference/get_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get metadata — get_metadata","text":"","code":"if (FALSE) { get_metadata(\"datasets.json\") }"},{"path":"https://mtes-mct.github.io/didor/reference/http_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Run HTTP GET request — http_get","title":"Run HTTP GET request — http_get","text":"Run HTTP GET request","code":""},{"path":"https://mtes-mct.github.io/didor/reference/http_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run HTTP GET request — http_get","text":"","code":"http_get(url, as = NULL, file_name = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/http_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run HTTP GET request — http_get","text":"url url text/NULL, return text file_name file name used cache download","code":""},{"path":"https://mtes-mct.github.io/didor/reference/http_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run HTTP GET request — http_get","text":"didor_http_response two fields: parsed content parameter headers","code":""},{"path":"https://mtes-mct.github.io/didor/reference/http_get.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run HTTP GET request — http_get","text":"","code":"result <- http_get(   \"https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1/datasets?page=1&pageSize=10\",   as = \"text\" )"},{"path":"https://mtes-mct.github.io/didor/reference/last_millesime.html","id":null,"dir":"Reference","previous_headings":"","what":"Get last millesime — last_millesime","title":"Get last millesime — last_millesime","text":"Get last millesime","code":""},{"path":"https://mtes-mct.github.io/didor/reference/last_millesime.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get last millesime — last_millesime","text":"","code":"last_millesime(data)"},{"path":"https://mtes-mct.github.io/didor/reference/last_millesime.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get last millesime — last_millesime","text":"data datafiles tibble (returned datafiles() function)","code":""},{"path":"https://mtes-mct.github.io/didor/reference/last_millesime.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get last millesime — last_millesime","text":"tibble last millesimes input datafiles","code":""},{"path":"https://mtes-mct.github.io/didor/reference/last_millesime.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get last millesime — last_millesime","text":"","code":"datafiles() %>% last_millesime() #> # A tibble: 124 × 10 #>    rid      id    millesime date_diffusion weburl   rows columns extendedFilters #>    <chr>    <chr> <chr>     <chr>          <chr>   <int> <list>  <list>          #>  1 0018cbe… 63ec… 2023-02   2023-02-17T07… https… 3.6 e2 <df>    <list [0]>      #>  2 005fa4e… 631b… 2023-03   2023-03-10T09… https… 5.17e2 <df>    <list [0]>      #>  3 0171f12… 6315… 2022-05   2022-09-05T10… https… 1.56e4 <df>    <df [1 × 3]>    #>  4 039fb42… 63ec… 2023-02   2023-02-17T07… https… 6   e1 <df>    <list [0]>      #>  5 04be488… 631b… 2023-03   2023-03-10T09… https… 5.3 e2 <df>    <list [0]>      #>  6 0b83eee… 6390… 2022-01   2022-12-12T13… https… 5.27e6 <df>    <df [5 × 3]>    #>  7 0bf930d… 631b… 2023-03   2023-03-10T09… https… 5.3 e2 <df>    <list [0]>      #>  8 0d1ac24… 6102… 2021-10   2022-09-27T08… https… 1.31e5 <df>    <df [1 × 3]>    #>  9 0dcbc5c… 63ec… 2023-02   2023-02-17T07… https… 9.6 e1 <df>    <list [0]>      #> 10 0ded317… 6102… 2021-10   2022-09-27T06… https… 2.48e5 <df>    <df [1 × 3]>    #> # ℹ 114 more rows #> # ℹ 2 more variables: geoFields <chr>, refs <chr>"},{"path":"https://mtes-mct.github.io/didor/reference/millesimes.html","id":null,"dir":"Reference","previous_headings":"","what":"Get millesimes informations — millesimes","title":"Get millesimes informations — millesimes","text":"Get millesimes informations","code":""},{"path":"https://mtes-mct.github.io/didor/reference/millesimes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get millesimes informations — millesimes","text":"","code":"millesimes(data)"},{"path":"https://mtes-mct.github.io/didor/reference/millesimes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get millesimes informations — millesimes","text":"data tibble issued datafiles().","code":""},{"path":"https://mtes-mct.github.io/didor/reference/millesimes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get millesimes informations — millesimes","text":"tibble millesimes informations","code":""},{"path":"https://mtes-mct.github.io/didor/reference/millesimes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get millesimes informations — millesimes","text":"","code":"datafiles() %>%   dido_search(\"drom\") %>%   millesimes() #> # A tibble: 3 × 10 #>   rid        id    millesime date_diffusion weburl  rows columns extendedFilters #>   <chr>      <chr> <chr>     <chr>          <chr>  <int> <list>  <list>          #> 1 6c79805c-… 6102… 2019-10   2021-10-18T08… https…    45 <df>    <df [2 × 3]>    #> 2 6c79805c-… 6102… 2021-10   2021-10-18T09… https…    50 <df>    <df [2 × 3]>    #> 3 6c79805c-… 6102… 2022-10   2022-10-20T11… https…    55 <df>    <df [2 × 3]>    #> # ℹ 2 more variables: geoFields <chr>, refs <chr>"},{"path":"https://mtes-mct.github.io/didor/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. magrittr %>%","code":""},{"path":"https://mtes-mct.github.io/didor/reference/set_api_base_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Set API base path — set_api_base_path","title":"Set API base path — set_api_base_path","text":"set new API base path use","code":""},{"path":"https://mtes-mct.github.io/didor/reference/set_api_base_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set API base path — set_api_base_path","text":"","code":"set_api_base_path(path = NULL)"},{"path":"https://mtes-mct.github.io/didor/reference/set_api_base_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set API base path — set_api_base_path","text":"path NULL path set NULL use default path. set non NULL, set value path NULL set default path https://data.statistiques.developpement-durable.gouv.fr/dido/api/v1 @details function delete cache.","code":""},{"path":"https://mtes-mct.github.io/didor/reference/set_api_base_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set API base path — set_api_base_path","text":"previous path","code":""},{"path":"https://mtes-mct.github.io/didor/reference/set_api_base_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set API base path — set_api_base_path","text":"","code":"# to set some new path set_api_base_path(\"http://localhost/api/\")"},{"path":"https://mtes-mct.github.io/didor/reference/set_attributes.html","id":null,"dir":"Reference","previous_headings":"","what":"set_attributes — set_attributes","title":"set_attributes — set_attributes","text":"add information downloaded dataframe attributes description unit type : concatenation type format returned API","code":""},{"path":"https://mtes-mct.github.io/didor/reference/set_attributes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"set_attributes — set_attributes","text":"","code":"set_attributes(data, metadata)"},{"path":"https://mtes-mct.github.io/didor/reference/set_attributes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"set_attributes — set_attributes","text":"data dataframe metadata named list returned build_attributes()","code":""},{"path":"https://mtes-mct.github.io/didor/reference/set_attributes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"set_attributes — set_attributes","text":"dataframe attributes columns","code":""},{"path":"https://mtes-mct.github.io/didor/news/index.html","id":"didor-0039000","dir":"Changelog","previous_headings":"","what":"didor 0.0.3.9000","title":"didor 0.0.3.9000","text":"evol : get_data now writes downloaded csv files. Default tempdir() user can choose directory argument. add new tutorial (credit Olivier Chantrel) minor : migrate pkgdown 2 typo README.Rmd fix warnings new dplyr release fix bug tests","code":""},{"path":"https://mtes-mct.github.io/didor/news/index.html","id":"didor-0029000","dir":"Changelog","previous_headings":"","what":"didor 0.0.2.9000","title":"didor 0.0.2.9000","text":"add user agent “https://github.com/MTES-MCT/didor” HTTP requests fix utf8 bug windows reading test file fix clean env changing api_base_path refactoring","code":""},{"path":"https://mtes-mct.github.io/didor/news/index.html","id":"didor-0019000","dir":"Changelog","previous_headings":"","what":"didor 0.0.1.9000","title":"didor 0.0.1.9000","text":"first version","code":""}]
